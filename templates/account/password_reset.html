{% extends "base.html" %}
{% load static %}

{% block title %}Reset Password - EYTGaming{% endblock %}

{% block body %}
<div class="relative flex min-h-screen w-full flex-col items-center justify-center bg-background-light dark:bg-background-dark p-4">
    <!-- Background Image with Overlay -->
    <div class="absolute inset-0 z-0 h-full w-full bg-cover bg-center bg-no-repeat" style='background-image: url("https://images.unsplash.com/photo-1542751371-adc38448a05e?w=1920"); opacity: 0.1;'></div>
    <div class="absolute inset-0 z-10 bg-gradient-to-t from-background-dark via-background-dark/80 to-transparent"></div>
    
    <!-- Reset Password Card -->
    <div class="relative z-20 flex w-full max-w-md flex-col items-center rounded-xl bg-neutral-900/80 p-6 shadow-2xl backdrop-blur-md sm:p-8">
        <!-- Logo and Title -->
        <div class="mb-8 flex flex-col items-center">
            <img src="{% static 'images/EYTLOGO.jpg' %}" alt="EYTGaming Logo" class="h-20 w-auto mb-4 rounded-lg"/>
            <h1 class="text-white tracking-tight text-3xl font-bold leading-tight text-center">Reset Password</h1>
            <p class="text-neutral-400 text-sm mt-2 text-center">Enter your email to receive reset instructions</p>
        </div>
        
        <!-- Django Messages -->
        {% if messages %}
            <div class="w-full mb-4 space-y-2">
                {% for message in messages %}
                    <div class="flex items-center gap-3 px-4 py-3 rounded-lg {% if message.tags == 'error' %}bg-red-900/20 border border-red-800 text-red-200{% elif message.tags == 'success' %}bg-green-900/20 border border-green-800 text-green-200{% else %}bg-blue-900/20 border border-blue-800 text-blue-200{% endif %}">
                        <span class="material-symbols-outlined text-sm">
                            {% if message.tags == 'error' %}error{% elif message.tags == 'success' %}check_circle{% else %}info{% endif %}
                        </span>
                        <p class="text-sm">{{ message }}</p>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
        
        <!-- Reset Form -->
        <form method="post" action="{% url 'account_reset_password' %}" class="w-full space-y-6">
            {% csrf_token %}
            
            <!-- Email Field -->
            <div class="flex flex-col">
                <label class="flex flex-col w-full">
                    <p class="text-neutral-300 text-sm font-medium leading-normal pb-2">Email Address</p>
                    <div class="relative flex w-full items-center">
                        <span class="material-symbols-outlined absolute left-3 text-lg text-neutral-500">mail</span>
                        <input 
                            type="email" 
                            name="email" 
                            id="id_email"
                            class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-neutral-200 focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-neutral-700 bg-neutral-900/70 focus:border-primary h-12 placeholder:text-neutral-500 pl-10 pr-4 py-2 text-base font-normal leading-normal" 
                            placeholder="Enter your email address"
                            required
                            autofocus
                        />
                    </div>
                    {% if form.email.errors %}
                        <p class="text-red-400 text-xs mt-1">{{ form.email.errors.0 }}</p>
                    {% endif %}
                </label>
            </div>
            
            <!-- Submit Button -->
            <button 
                type="submit" 
                class="flex w-full items-center justify-center rounded-lg bg-primary h-12 px-4 py-2 text-base font-bold text-white shadow-lg shadow-primary/30 transition-all hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:ring-offset-2 focus:ring-offset-background-dark"
            >
                Send Reset Link
            </button>
        </form>
        
        <!-- Back to Login Link -->
        <p class="text-neutral-400 text-sm font-normal leading-normal pt-8 text-center">
            Remember your password? 
            <a class="font-semibold text-primary hover:text-primary/80 underline" href="{% url 'account_login' %}">
                Back to Login
            </a>
        </p>
    </div>
</div>
{% endblock %}
