{% load static %}

<!-- Skip Navigation Link for Accessibility -->
<a href="#main-content"
  class="skip-link sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-[200] focus:px-6 focus:py-3 focus:bg-red-600 focus:text-white focus:font-bold focus:rounded">
  Skip to main content
</a>

<!-- Navigation Component -->
<nav id="main-navigation"
  class="navigation fixed w-full z-[100] bg-black/40 backdrop-blur-sm border-b-2 border-red-600/30 transition-all duration-300"
  role="navigation" aria-label="Main navigation">
  <div class="max-w-[1920px] mx-auto px-6 lg:px-12">
    <div class="flex justify-between items-center h-24">

      <!-- Logo -->
      <a href="{% url 'home' %}" class="flex items-center gap-2 cursor-pointer group">
        <img src="{% static 'images/EYTLOGO.jpg' %}" alt="EYT Gaming Logo"
          class="h-16 w-auto object-contain transition-transform duration-300 group-hover:scale-105"
          style="filter: drop-shadow(0 0 8px rgba(220, 38, 38, 0.4));">
      </a>

      <!-- Desktop Menu Items -->
      <ul class="nav-menu hidden md:flex items-center space-x-12">
        <li>
          <a href="{% url 'home' %}"
            class="nav-link text-lg font-bold uppercase italic tracking-widest hover:text-red-600 transition-colors">
            Home
          </a>
        </li>
        <li>
          <a href="{% url 'teams:list' %}"
            class="nav-link text-lg font-bold uppercase italic tracking-widest hover:text-red-600 transition-colors">
            Teams
          </a>
        </li>
        <li>
          <a href="#games"
            class="nav-link text-lg font-bold uppercase italic tracking-widest hover:text-red-600 transition-colors">
            Games
          </a>
        </li>
        <li>
          <a href="{% url 'tournaments:list' %}"
            class="nav-link text-lg font-bold uppercase italic tracking-widest hover:text-red-600 transition-colors">
            Tournaments
          </a>
        </li>
        <li>
          <a href="{% url 'store:product_list' %}"
            class="nav-link text-lg font-bold uppercase italic tracking-widest hover:text-red-600 transition-colors">
            Store
          </a>
        </li>
        <li>
          <a href="#community"
            class="nav-link text-lg font-bold uppercase italic tracking-widest hover:text-red-600 transition-colors">
            Community
          </a>
        </li>
      </ul>

      <!-- CTA Button (Desktop) -->
      <div class="hidden md:flex items-center gap-4">
        {% if user.is_authenticated %}
        <a href="{% url 'dashboard:profile_view' user.username %}"
          class="nav-cta px-10 py-3 bg-red-600 text-white font-black uppercase italic tracking-tighter hover:bg-white hover:text-black transition-all transform -skew-x-12">
          <span class="inline-block skew-x-12">Dashboard</span>
        </a>
        <a href="{% url 'account_logout' %}"
          class="px-6 py-3 border-2 border-red-600 text-red-600 font-bold uppercase italic tracking-tighter hover:bg-red-600 hover:text-white transition-all transform -skew-x-12">
          <span class="inline-block skew-x-12">Logout</span>
        </a>
        {% else %}
        <a href="{% url 'account_login' %}"
          class="px-6 py-3 border-2 border-red-600 text-red-600 font-bold uppercase italic tracking-tighter hover:bg-red-600 hover:text-white transition-all transform -skew-x-12">
          <span class="inline-block skew-x-12">Login</span>
        </a>
        <a href="{% url 'account_signup' %}"
          class="nav-cta px-10 py-3 bg-red-600 text-white font-black uppercase italic tracking-tighter hover:bg-white hover:text-black transition-all transform -skew-x-12">
          <span class="inline-block skew-x-12">Sign Up</span>
        </a>
        {% endif %}
      </div>

      <!-- Mobile Menu Toggle -->
      <button
        class="mobile-menu-toggle md:hidden text-white hover:text-red-600 transition-colors p-2 -mr-2 touch-manipulation"
        aria-label="Toggle mobile menu" aria-expanded="false" type="button">
        <span class="material-symbols-outlined text-4xl">menu</span>
      </button>

    </div>
  </div>

  <!-- Mobile Menu (Hidden by default) -->
  <div
    class="mobile-menu hidden md:hidden bg-black/95 backdrop-blur-xl border-t-2 border-red-600/30 absolute top-full left-0 right-0 w-full shadow-2xl"
    style="max-height: calc(100vh - 4rem); overflow-y: auto; -webkit-overflow-scrolling: touch; overscroll-behavior: contain;">
    <div class="max-w-[1920px] mx-auto px-6 py-8">
      <!-- Close Button -->
      <div class="flex justify-end mb-4">
        <button class="mobile-menu-close text-white hover:text-red-600 transition-colors p-2 touch-manipulation"
          aria-label="Close mobile menu" type="button">
          <span class="material-symbols-outlined text-3xl">close</span>
        </button>
      </div>

      <ul class="space-y-6">
        <li>
          <a href="{% url 'home' %}"
            class="block text-xl font-bold uppercase italic tracking-widest text-white hover:text-red-600 transition-colors py-2 touch-manipulation">
            Home
          </a>
        </li>
        <li>
          <a href="{% url 'teams:list' %}"
            class="block text-xl font-bold uppercase italic tracking-widest text-white hover:text-red-600 transition-colors py-2 touch-manipulation">
            Teams
          </a>
        </li>
        <li>
          <a href="#games"
            class="block text-xl font-bold uppercase italic tracking-widest text-white hover:text-red-600 transition-colors py-2 touch-manipulation">
            Games
          </a>
        </li>
        <li>
          <a href="{% url 'tournaments:list' %}"
            class="block text-xl font-bold uppercase italic tracking-widest text-white hover:text-red-600 transition-colors py-2 touch-manipulation">
            Tournaments
          </a>
        </li>
        <li>
          <a href="{% url 'store:product_list' %}"
            class="block text-xl font-bold uppercase italic tracking-widest text-white hover:text-red-600 transition-colors py-2 touch-manipulation">
            Store
          </a>
        </li>
        <li>
          <a href="#community"
            class="block text-xl font-bold uppercase italic tracking-widest text-white hover:text-red-600 transition-colors py-2 touch-manipulation">
            Community
          </a>
        </li>
      </ul>

      <!-- Mobile CTA -->
      <div class="mt-8 space-y-4">
        {% if user.is_authenticated %}
        <a href="{% url 'dashboard:profile_view' user.username %}"
          class="block w-full text-center px-10 py-4 bg-red-600 text-white font-black uppercase italic tracking-tighter hover:bg-white hover:text-black transition-all touch-manipulation">
          Dashboard
        </a>
        <a href="{% url 'account_logout' %}"
          class="block w-full text-center px-10 py-4 border-2 border-red-600 text-red-600 font-bold uppercase italic tracking-tighter hover:bg-red-600 hover:text-white transition-all touch-manipulation">
          Logout
        </a>
        {% else %}
        <a href="{% url 'account_login' %}"
          class="block w-full text-center px-10 py-4 border-2 border-red-600 text-red-600 font-bold uppercase italic tracking-tighter hover:bg-red-600 hover:text-white transition-all touch-manipulation">
          Login
        </a>
        <a href="{% url 'account_signup' %}"
          class="block w-full text-center px-10 py-4 bg-red-600 text-white font-black uppercase italic tracking-tighter hover:bg-white hover:text-black transition-all touch-manipulation">
          Sign Up
        </a>
        {% endif %}
      </div>
    </div>
  </div>
</nav>