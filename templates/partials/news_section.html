{% load static %}

{# News Section - Latest Updates and Announcements #}
<section id="news" class="news-section py-20 bg-black relative overflow-hidden">
  <div class="container mx-auto px-4">
    {# Section Title #}
    <h2 class="section-title text-center text-5xl md:text-6xl font-bold uppercase tracking-tight mb-4 gradient-text-red">
      LATEST INTEL
    </h2>
    <p class="text-center text-gray-400 text-lg mb-12 uppercase tracking-wide">
      News, Tournaments & Updates
    </p>
    
    {# News Grid - Responsive: 1 col mobile, 2 col tablet, 3 col desktop #}
    <div class="news-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {% for article in news_articles %}
      <article class="news-card group">
        {# Featured Image Wrapper #}
        <div class="news-image-wrapper relative overflow-hidden rounded-t-lg mb-4">
          {% if article.image %}
          <img 
            src="{{ article.image.url }}" 
            alt="{{ article.title }}" 
            class="news-image w-full h-48 object-cover transition-transform duration-300 group-hover:scale-110"
            loading="lazy"
          >
          {% else %}
          <div class="news-image w-full h-48 bg-gray-800 flex items-center justify-center">
            <span class="material-symbols-outlined text-gray-600 text-6xl">article</span>
          </div>
          {% endif %}
          
          {# Category Badge - Color coded by type #}
          <div class="news-category-badge absolute top-4 left-4 px-3 py-1 rounded-md font-bold text-xs uppercase tracking-wider
            {% if article.category == 'Tournament' %}
              bg-red-600 text-white
            {% elif article.category == 'Announcement' %}
              bg-cyan-500 text-black
            {% else %}
              bg-gray-600 text-white
            {% endif %}
          ">
            {{ article.category }}
          </div>
        </div>
        
        {# News Content #}
        <div class="news-content p-4">
          {# Date #}
          <time class="news-date block text-sm text-gray-500 uppercase tracking-wide mb-2" datetime="{{ article.published_date|date:'Y-m-d' }}">
            {{ article.published_date|date:"M d, Y" }}
          </time>
          
          {# Title #}
          <h3 class="news-title text-xl font-bold uppercase tracking-tight text-white mb-3 group-hover:text-red-500 transition-colors">
            {{ article.title }}
          </h3>
          
          {# Excerpt #}
          <p class="news-excerpt text-gray-400 text-sm leading-relaxed mb-4">
            {{ article.excerpt|truncatewords:20 }}
          </p>
          
          {# Read More Link #}
          <a 
            href="{{ article.get_absolute_url }}" 
            class="news-link inline-flex items-center gap-2 text-red-500 font-bold text-sm uppercase tracking-wide hover:text-red-400 transition-colors"
          >
            Read More 
            <span class="material-symbols-outlined text-base">arrow_forward</span>
          </a>
        </div>
        
        {# Glow Effect Border - Appears on Hover #}
        <div class="news-glow"></div>
      </article>
      {% empty %}
      {# Empty State - No News #}
      <div class="col-span-full text-center py-12">
        <span class="material-symbols-outlined text-gray-600 text-6xl mb-4" aria-hidden="true">
          article
        </span>
        <p class="text-gray-500 text-xl">
          No news articles available yet. Check back soon!
        </p>
      </div>
      {% endfor %}
    </div>
    
    {# View All News Button (Optional) #}
    {% if news_articles %}
    <div class="text-center mt-12">
      <a 
        href="#news" 
        class="cta-secondary inline-block rounded-md"
      >
        View All News
      </a>
    </div>
    {% endif %}
  </div>
</section>
