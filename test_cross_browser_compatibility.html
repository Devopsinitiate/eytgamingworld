<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cross-Browser Compatibility Test - EYTGaming</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .test-container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .test-header {
            background: #b91c1c;
            color: white;
            padding: 15px;
            border-radius: 8px 8px 0 0;
            margin: -20px -20px 20px -20px;
        }
        
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .test-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            background: #f9f9f9;
        }
        
        .test-button {
            background: #b91c1c;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
            transition: background-color 0.2s;
        }
        
        .test-button:hover {
            background: #991b1b;
        }
        
        .test-button:focus {
            outline: 2px solid #b91c1c;
            outline-offset: 2px;
        }
        
        .results {
            margin-top: 20px;
            padding: 15px;
            border-radius: 4px;
            font-family: monospace;
            white-space: pre-wrap;
            background: #f0f0f0;
            border: 1px solid #ddd;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .status {
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        
        .status.loading {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
        }
        
        .status.success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }
        
        .status.error {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }
        
        .browser-info {
            background: #e3f2fd;
            border: 1px solid #bbdefb;
            color: #0d47a1;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }
        
        .feature-item {
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .feature-supported {
            background: #d4edda;
            color: #155724;
        }
        
        .feature-unsupported {
            background: #f8d7da;
            color: #721c24;
        }
        
        .feature-warning {
            background: #fff3cd;
            color: #856404;
        }
        
        @media (max-width: 768px) {
            .test-grid {
                grid-template-columns: 1fr;
            }
            
            .feature-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-header">
            <h1>üß™ Cross-Browser Compatibility Test Suite</h1>
            <p>Testing EYTGaming platform compatibility across different browsers</p>
        </div>
        
        <div class="browser-info" id="browserInfo">
            <h3>üåê Browser Information</h3>
            <p><strong>User Agent:</strong> <span id="userAgent"></span></p>
            <p><strong>Browser:</strong> <span id="browserName"></span></p>
            <p><strong>Viewport:</strong> <span id="viewport"></span></p>
            <p><strong>Screen:</strong> <span id="screen"></span></p>
        </div>
        
        <div class="test-grid">
            <div class="test-card">
                <h3>üéØ Quick Tests</h3>
                <button class="test-button" onclick="runQuickTest()">Run Quick Test</button>
                <button class="test-button" onclick="runFullTest()">Run Full Test Suite</button>
                <button class="test-button" onclick="testTailwindOnly()">Test Tailwind Only</button>
                <button class="test-button" onclick="clearResults()">Clear Results</button>
            </div>
            
            <div class="test-card">
                <h3>üîß Feature Detection</h3>
                <button class="test-button" onclick="detectFeatures()">Detect CSS Features</button>
                <div id="featureResults" class="feature-grid"></div>
            </div>
            
            <div class="test-card">
                <h3>üé® Visual Tests</h3>
                <button class="test-button" onclick="testDarkMode()">Toggle Dark Mode</button>
                <button class="test-button" onclick="testResponsive()">Test Responsive</button>
                <button class="test-button" onclick="testAnimations()">Test Animations</button>
            </div>
            
            <div class="test-card">
                <h3>‚ôø Accessibility Tests</h3>
                <button class="test-button" onclick="testFocusIndicators()">Test Focus</button>
                <button class="test-button" onclick="testKeyboardNav()">Test Keyboard Nav</button>
                <button class="test-button" onclick="testScreenReader()">Test Screen Reader</button>
            </div>
        </div>
        
        <div id="status" class="status" style="display: none;"></div>
        <div id="results" class="results" style="display: none;"></div>
    </div>

    <script>
        // Initialize browser information
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('userAgent').textContent = navigator.userAgent;
            document.getElementById('browserName').textContent = detectBrowser();
            document.getElementById('viewport').textContent = `${window.innerWidth} x ${window.innerHeight}`;
            document.getElementById('screen').textContent = `${screen.width} x ${screen.height}`;
        });
        
        function detectBrowser() {
            const ua = navigator.userAgent;
            if (/Chrome/.test(ua) && !/Edge/.test(ua)) return 'Chrome';
            if (/Firefox/.test(ua)) return 'Firefox';
            if (/Safari/.test(ua) && !/Chrome/.test(ua)) return 'Safari';
            if (/Edge/.test(ua)) return 'Edge';
            if (/MSIE|Trident/.test(ua)) return 'Internet Explorer';
            return 'Unknown';
        }
        
        function showStatus(message, type = 'loading') {
            const status = document.getElementById('status');
            status.className = `status ${type}`;
            status.textContent = message;
            status.style.display = 'block';
        }
        
        function showResults(content) {
            const results = document.getElementById('results');
            results.textContent = content;
            results.style.display = 'block';
        }
        
        function clearResults() {
            document.getElementById('results').style.display = 'none';
            document.getElementById('status').style.display = 'none';
            document.getElementById('featureResults').innerHTML = '';
        }
        
        async function runQuickTest() {
            showStatus('Running quick compatibility test...', 'loading');
            
            try {
                // Basic feature detection
                const features = {
                    'CSS Grid': CSS.supports('display', 'grid'),
                    'Flexbox': CSS.supports('display', 'flex'),
                    'Custom Properties': CSS.supports('color', 'var(--test)'),
                    'Focus Visible': CSS.supports('selector(:focus-visible)')
                };
                
                let report = 'Quick Compatibility Test Results:\n';
                report += '='.repeat(40) + '\n\n';
                
                let passed = 0;
                let total = Object.keys(features).length;
                
                for (const [name, supported] of Object.entries(features)) {
                    const status = supported ? '‚úÖ PASS' : '‚ùå FAIL';
                    report += `${status} ${name}\n`;
                    if (supported) passed++;
                }
                
                report += `\nScore: ${passed}/${total} (${((passed/total)*100).toFixed(1)}%)\n`;
                
                if (passed === total) {
                    showStatus('‚úÖ All quick tests passed!', 'success');
                } else if (passed > total * 0.7) {
                    showStatus('‚ö†Ô∏è Most tests passed with some warnings', 'warning');
                } else {
                    showStatus('‚ùå Several compatibility issues detected', 'error');
                }
                
                showResults(report);
                
            } catch (error) {
                showStatus('‚ùå Error running quick test', 'error');
                showResults(`Error: ${error.message}`);
            }
        }
        
        async function runFullTest() {
            showStatus('Running full compatibility test suite...', 'loading');
            
            try {
                // Check if the main test suite is available
                if (typeof CrossBrowserTest !== 'undefined') {
                    const results = await CrossBrowserTest.runAllTests();
                    
                    let report = 'Full Compatibility Test Results:\n';
                    report += '='.repeat(50) + '\n\n';
                    report += `‚úÖ Passed: ${results.passed}\n`;
                    report += `‚ùå Failed: ${results.failed}\n`;
                    report += `‚ö†Ô∏è Warnings: ${results.warnings}\n`;
                    
                    const total = results.passed + results.failed + results.warnings;
                    report += `üìà Success Rate: ${((results.passed / total) * 100).toFixed(1)}%\n\n`;
                    
                    report += 'Detailed Results:\n';
                    report += '-'.repeat(30) + '\n';
                    
                    results.details.forEach(detail => {
                        const icon = detail.type === 'pass' ? '‚úÖ' : detail.type === 'fail' ? '‚ùå' : '‚ö†Ô∏è';
                        report += `${icon} ${detail.test}: ${detail.message}\n`;
                    });
                    
                    if (results.failed === 0) {
                        showStatus('‚úÖ All tests completed successfully!', 'success');
                    } else if (results.failed < results.passed) {
                        showStatus('‚ö†Ô∏è Tests completed with some issues', 'warning');
                    } else {
                        showStatus('‚ùå Multiple compatibility issues detected', 'error');
                    }
                    
                    showResults(report);
                } else {
                    throw new Error('CrossBrowserTest suite not loaded');
                }
                
            } catch (error) {
                showStatus('‚ùå Error running full test suite', 'error');
                showResults(`Error: ${error.message}\n\nMake sure you're testing on the actual EYTGaming platform with all scripts loaded.`);
            }
        }
        
        function testTailwindOnly() {
            showStatus('Testing Tailwind CSS loading...', 'loading');
            
            setTimeout(() => {
                if (typeof tailwind !== 'undefined') {
                    showStatus('‚úÖ Tailwind CSS loaded successfully!', 'success');
                    showResults('Tailwind CSS is available and configured.\n\nYou can now use Tailwind classes in your HTML.');
                } else {
                    showStatus('‚ùå Tailwind CSS not loaded', 'error');
                    showResults('Tailwind CSS is not available.\n\nThis could indicate:\n- CDN loading issues\n- Script loading order problems\n- Network connectivity issues');
                }
            }, 1000);
        }
        
        function detectFeatures() {
            const features = {
                'CSS Grid': 'display: grid',
                'Flexbox': 'display: flex',
                'Custom Properties': 'color: var(--test)',
                'Focus Visible': 'selector(:focus-visible)',
                'Color Scheme': 'color-scheme: dark',
                'Font Variation': 'font-variation-settings: "wght" 400',
                'Backdrop Filter': 'backdrop-filter: blur(10px)',
                'Clip Path': 'clip-path: circle(50%)',
                'Object Fit': 'object-fit: cover',
                'Position Sticky': 'position: sticky',
                'Scrollbar Width': 'scrollbar-width: thin'
            };
            
            const container = document.getElementById('featureResults');
            container.innerHTML = '';
            
            for (const [name, property] of Object.entries(features)) {
                const div = document.createElement('div');
                div.className = 'feature-item';
                
                try {
                    let supported = false;
                    
                    if (name === 'Focus Visible') {
                        supported = CSS.supports('selector(:focus-visible)');
                    } else {
                        const [prop, value] = property.split(': ');
                        supported = CSS.supports(prop, value);
                    }
                    
                    div.classList.add(supported ? 'feature-supported' : 'feature-unsupported');
                    div.textContent = `${supported ? '‚úÖ' : '‚ùå'} ${name}`;
                    
                } catch (error) {
                    div.classList.add('feature-warning');
                    div.textContent = `‚ö†Ô∏è ${name}`;
                }
                
                container.appendChild(div);
            }
        }
        
        function testDarkMode() {
            const html = document.documentElement;
            html.classList.toggle('dark');
            
            const isDark = html.classList.contains('dark');
            showStatus(`${isDark ? 'üåô' : '‚òÄÔ∏è'} ${isDark ? 'Dark' : 'Light'} mode activated`, 'success');
        }
        
        function testResponsive() {
            const width = window.innerWidth;
            let breakpoint = '';
            
            if (width < 640) breakpoint = 'Mobile (< 640px)';
            else if (width < 768) breakpoint = 'Small Tablet (640-768px)';
            else if (width < 1024) breakpoint = 'Tablet (768-1024px)';
            else if (width < 1280) breakpoint = 'Desktop (1024-1280px)';
            else breakpoint = 'Large Desktop (> 1280px)';
            
            showStatus(`üì± Current breakpoint: ${breakpoint}`, 'success');
            showResults(`Viewport: ${width} x ${window.innerHeight}\nBreakpoint: ${breakpoint}\n\nResize your browser window to test different breakpoints.`);
        }
        
        function testAnimations() {
            const button = event.target;
            button.style.transform = 'scale(0.95)';
            button.style.transition = 'transform 0.1s ease';
            
            setTimeout(() => {
                button.style.transform = 'scale(1)';
                showStatus('‚ú® Animation test completed', 'success');
            }, 100);
        }
        
        function testFocusIndicators() {
            const buttons = document.querySelectorAll('.test-button');
            let currentIndex = 0;
            
            function focusNext() {
                if (currentIndex < buttons.length) {
                    buttons[currentIndex].focus();
                    currentIndex++;
                    setTimeout(focusNext, 500);
                } else {
                    showStatus('‚úÖ Focus indicator test completed', 'success');
                    showResults('Focus indicators should be visible on each button.\n\nIf you can see clear focus outlines, the test passed.');
                }
            }
            
            showStatus('üéØ Testing focus indicators...', 'loading');
            focusNext();
        }
        
        function testKeyboardNav() {
            showStatus('‚å®Ô∏è Keyboard navigation test active', 'loading');
            showResults('Use TAB to navigate between buttons.\nUse ENTER or SPACE to activate buttons.\nUse SHIFT+TAB to navigate backwards.\n\nPress ESC to end the test.');
            
            function handleKeydown(e) {
                if (e.key === 'Escape') {
                    document.removeEventListener('keydown', handleKeydown);
                    showStatus('‚úÖ Keyboard navigation test completed', 'success');
                }
            }
            
            document.addEventListener('keydown', handleKeydown);
        }
        
        function testScreenReader() {
            showStatus('üîä Screen reader compatibility test', 'success');
            showResults('Screen reader test checklist:\n\n‚úì All buttons have descriptive text\n‚úì Status messages use appropriate ARIA live regions\n‚úì Headings are properly structured (h1, h2, h3)\n‚úì Interactive elements are keyboard accessible\n‚úì Color is not the only way to convey information\n\nUse a screen reader to verify these features work correctly.');
        }
    </script>
</body>
</html>